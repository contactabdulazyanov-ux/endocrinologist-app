// –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –ø–æ —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑–µ (–ö–† –†–§)
const THYROID_KNOWLEDGE = {
    references: {
        TSH: { min: 0.4, max: 4.0, unit: "–º–ú–ï/–ª" },
        FREE_T4: { min: 11.0, max: 22.0, unit: "–ø–º–æ–ª—å/–ª" },
        FREE_T3: { min: 3.5, max: 8.0, unit: "–ø–º–æ–ª—å/–ª" },
        ANTI_TPO: { max: 34.0, unit: "–ú–ï/–º–ª" },
        ANTI_TG: { max: 115.0, unit: "–ú–ï/–º–ª" }
    },

   analyzeComplete: function(tsh, t4, t3, atpo, atg) {
    if (!tsh) return null;

    let diagnosis = "";
    let treatment = "";
    let recommendations = [];
    let autoimmuneNote = "";

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞—É—Ç–æ–∏–º–º—É–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å
    if (atpo > 34) {
        autoimmuneNote = " (–∞—É—Ç–æ–∏–º–º—É–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å)";
        recommendations.push("–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ê–Ω—Ç–∏-–¢–ü–û –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∞—É—Ç–æ–∏–º–º—É–Ω–Ω—ã–π –≥–µ–Ω–µ–∑");
    }
    
    if (atg > 115) {
        autoimmuneNote = " (–∞—É—Ç–æ–∏–º–º—É–Ω–Ω—ã–π —Ç–∏—Ä–µ–æ–∏–¥–∏—Ç)";
        recommendations.push("–ü–æ–≤—ã—à–µ–Ω—ã –ê–Ω—Ç–∏-–¢–ì - –º–∞—Ä–∫–µ—Ä –∞—É—Ç–æ–∏–º–º—É–Ω–Ω–æ–π –∞–≥—Ä–µ—Å—Å–∏–∏");
    }

    // –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ –ö–† –†–§
    if (tsh > 4.0 && t4 < 11.0) {
        diagnosis = "üî¥ –ü–µ—Ä–≤–∏—á–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç–Ω—ã–π –≥–∏–ø–æ—Ç–∏—Ä–µ–æ–∑" + autoimmuneNote;
        treatment = "–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è –ª–µ–≤–æ—Ç–∏—Ä–æ–∫—Å–∏–Ω–æ–º 1.6 –º–∫–≥/–∫–≥/—Å—É—Ç";
        recommendations.push("–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ê–Ω—Ç–∏-–¢–ü–û –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –≥–µ–Ω–µ–∑–∞", "–£–ó–ò —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã", "–ö–æ–Ω—Ç—Ä–æ–ª—å –¢–¢–ì —á–µ—Ä–µ–∑ 6-8 –Ω–µ–¥–µ–ª—å");
    }
    else if (tsh < 0.4 && (t4 > 22.0 || t3 > 8.0)) {
        diagnosis = "üî¥ –ú–∞–Ω–∏—Ñ–µ—Å—Ç–Ω—ã–π —Ç–∏—Ä–µ–æ—Ç–æ–∫—Å–∏–∫–æ–∑" + autoimmuneNote;
        treatment = "–¢–∏—Ä–µ–æ—Å—Ç–∞—Ç–∏–∫–∏, —Ä–∞–¥–∏–æ–π–æ–¥—Ç–µ—Ä–∞–ø–∏—è –∏–ª–∏ —Ö–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–æ–µ –ª–µ—á–µ–Ω–∏–µ";
        recommendations.push("–ê–¢-—Ä–¢–¢–ì –¥–ª—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏", "–£–ó–ò —Å –¶–î–ö", "–°—Ü–∏–Ω—Ç–∏–≥—Ä–∞—Ñ–∏—è –ø–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º");
    }
    else if (tsh > 4.0 && t4 >= 11.0) {
        diagnosis = "üü° –°—É–±–∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –≥–∏–ø–æ—Ç–∏—Ä–µ–æ–∑" + autoimmuneNote;
        treatment = atpo > 34 ? "–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–µ—Ä–∞–ø–∏—è –ª–µ–≤–æ—Ç–∏—Ä–æ–∫—Å–∏–Ω–æ–º" : "–ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∏–ª–∏ —Ç–µ—Ä–∞–ø–∏—è –ø—Ä–∏ –¢–¢–ì > 10 –º–ú–ï/–ª";
        recommendations.push("–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ 3-6 –º–µ—Å—è—Ü–µ–≤", "–û—Ü–µ–Ω–∫–∞ –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π —Å–∏–º–ø—Ç–æ–º–∞—Ç–∏–∫–∏");
    }
    else if (tsh < 0.4 && (!t4 || t4 <= 22.0) && (!t3 || t3 <= 8.0)) {
        diagnosis = "üü° –°—É–±–∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π —Ç–∏—Ä–µ–æ—Ç–æ–∫—Å–∏–∫–æ–∑" + autoimmuneNote;
        treatment = "–û–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω—ã";
        recommendations.push("–ò—Å–∫–ª—é—á–∏—Ç—å –ø—Ä–∏–µ–º —Ç–∏—Ä–µ–æ–∏–¥–Ω—ã—Ö –≥–æ—Ä–º–æ–Ω–æ–≤", "–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 3-6 –º–µ—Å—è—Ü–µ–≤");
    }
    else {
        diagnosis = "üü¢ –≠—É—Ç–∏—Ä–µ–æ–∑ (–Ω–æ—Ä–º–∞)";
        treatment = "–ü–ª–∞–Ω–æ–≤–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ";
        recommendations.push("–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ –ø–æ–∫–∞–∑–∞–Ω–∏—è–º");
    }

    // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–Ω—Ç–∏—Ç–µ–ª–∞—Ö –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    if (atpo > 34) {
        recommendations.unshift("–ê–Ω—Ç–∏-–¢–ü–û –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–µ–Ω—ã - –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—Ä–æ–≤–∞–Ω–∏—è");
    }
    if (atg > 115) {
        recommendations.unshift("–ê–Ω—Ç–∏-–¢–ì –ø–æ–≤—ã—à–µ–Ω—ã - –º–∞—Ä–∫–µ—Ä –∞—É—Ç–æ–∏–º–º—É–Ω–Ω–æ–≥–æ —Ç–∏—Ä–µ–æ–∏–¥–∏—Ç–∞");
    }

    return {
        diagnosis: diagnosis,
        treatment: treatment,
        recommendations: recommendations
    };
}// –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∞—É—Ç–æ–∏–º–º—É–Ω–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
analyzeAutoimmune: function(atpo, atg, tsh, t4) {
    let autoimmuneInfo = "";
    let additionalTests = [];
    
    if (atpo > 34 || atg > 115) {
        autoimmuneInfo = "<br><strong>üî¨ –ê—É—Ç–æ–∏–º–º—É–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å:</strong><br>";
        
        if (atpo > 34) {
            autoimmuneInfo += `- –ê–Ω—Ç–∏-–¢–ü–û: ${atpo} –ú–ï/–º–ª (–ø–æ–≤—ã—à–µ–Ω—ã)<br>`;
            if (atpo > 100) {
                autoimmuneInfo += "- –í—ã—Å–æ–∫–∏–π —Ç–∏—Ç—Ä –ê–Ω—Ç–∏-–¢–ü–û —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –¥–ª—è –∞—É—Ç–æ–∏–º–º—É–Ω–Ω–æ–≥–æ —Ç–∏—Ä–µ–æ–∏–¥–∏—Ç–∞<br>";
            }
        }
        
        if (atg > 115) {
            autoimmuneInfo += `- –ê–Ω—Ç–∏-–¢–ì: ${atg} –ú–ï/–º–ª (–ø–æ–≤—ã—à–µ–Ω—ã)<br>`;
        }
        
        // –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ —Å–æ—á–µ—Ç–∞–Ω–∏—é —Å –≥–æ—Ä–º–æ–Ω–∞–º–∏
        if (tsh > 4.0) {
            autoimmuneInfo += "- –°–æ—á–µ—Ç–∞–Ω–∏–µ —Å –≥–∏–ø–æ—Ç–∏—Ä–µ–æ–∑–æ–º: –≤–µ—Ä–æ—è—Ç–µ–Ω –∞—É—Ç–æ–∏–º–º—É–Ω–Ω—ã–π —Ç–∏—Ä–µ–æ–∏–¥–∏—Ç (–•–∞—à–∏–º–æ—Ç–æ)<br>";
            additionalTests.push("–£–ó–ò —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã");
        }
        else if (tsh < 0.4) {
            autoimmuneInfo += "- –°–æ—á–µ—Ç–∞–Ω–∏–µ —Å —Ç–∏—Ä–µ–æ—Ç–æ–∫—Å–∏–∫–æ–∑–æ–º: –≤–µ—Ä–æ—è—Ç–Ω–∞ –±–æ–ª–µ–∑–Ω—å –ì—Ä–µ–π–≤—Å–∞<br>";
            additionalTests.push("–ê–¢-—Ä–¢–¢–ì –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±–æ–ª–µ–∑–Ω–∏ –ì—Ä–µ–π–≤—Å–∞");
        }
        else {
            autoimmuneInfo += "- –ù–æ—Å–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∞–Ω—Ç–∏—Ç–µ–ª: —Ä–∏—Å–∫ —Ä–∞–∑–≤–∏—Ç–∏—è dysfunction —â–∏—Ç–æ–≤–∏–¥–Ω–æ–π –∂–µ–ª–µ–∑—ã<br>";
            additionalTests.push("–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ 1 —Ä–∞–∑ –≤ 6-12 –º–µ—Å—è—Ü–µ–≤");
        }
    }
    
    return {
        info: autoimmuneInfo,
        tests: additionalTests
    };
}
