<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Паращитовидные железы | Эндокринолог PRO - Диагностика и лечение</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #8b5cf6;
            --primary-dark: #7c3aed;
            --primary-light: #a78bfa;
            --secondary: #06b6d4;
            --accent: #f59e0b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f8fafc;
            --text: #e2e8f0;
            --text-light: #94a3b8;
            --text-lighter: #64748b;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --glass-hover: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 50%, #1e293b 100%);
            min-height: 100vh;
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .background-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            opacity: 0.03;
            animation: float 20s infinite linear;
        }

        .shape:nth-child(1) {
            width: 300px;
            height: 300px;
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 60%;
            right: 10%;
            animation-delay: -5s;
            background: linear-gradient(45deg, var(--accent), var(--warning));
        }

        .shape:nth-child(3) {
            width: 150px;
            height: 150px;
            bottom: 20%;
            left: 20%;
            animation-delay: -10s;
            background: linear-gradient(45deg, var(--success), var(--secondary));
        }

        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(50px, 50px) rotate(90deg);
            }
            50% {
                transform: translate(0, 100px) rotate(180deg);
            }
            75% {
                transform: translate(-50px, 50px) rotate(270deg);
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, 
                rgba(139, 92, 246, 0.1) 0%, 
                rgba(6, 182, 212, 0.1) 50%, 
                rgba(168, 85, 247, 0.1) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.1), 
                transparent);
            transition: left 0.6s ease;
        }

        .header:hover::before {
            left: 100%;
        }

        .header h1 {
            font-size: 3.5em;
            font-weight: 800;
            background: linear-gradient(135deg, var(--text) 0%, var(--primary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }

        .header p {
            font-size: 1.3em;
            color: var(--text-light);
            font-weight: 300;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-menu {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 28px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            color: var(--text);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.1), 
                transparent);
            transition: left 0.6s ease;
        }

        .nav-btn:hover::before {
            left: 100%;
        }

        .nav-btn:hover, .nav-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.3);
            border-color: var(--primary-light);
        }

        .content {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .page-title {
            font-size: 2.5em;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text) 0%, var(--primary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .page-subtitle {
            font-size: 1.2em;
            color: var(--text-light);
            margin-bottom: 40px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .info-card {
            background: linear-gradient(135deg, 
                rgba(139, 92, 246, 0.1) 0%, 
                rgba(6, 182, 212, 0.05) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            transition: width 0.3s ease;
        }

        .info-card:hover::before {
            width: 8px;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-light);
        }

        .info-card h3 {
            color: var(--text);
            margin-bottom: 20px;
            font-size: 1.4em;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .info-card ul {
            list-style: none;
            padding-left: 0;
        }

        .info-card li {
            padding: 10px 0;
            border-bottom: 1px solid var(--glass-border);
            position: relative;
            padding-left: 25px;
            color: var(--text-light);
            transition: color 0.3s ease;
        }

        .info-card li:hover {
            color: var(--text);
        }

        .info-card li:before {
            content: '▸';
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: 0;
            transition: transform 0.3s ease;
        }

        .info-card li:hover:before {
            transform: translateX(3px);
            color: var(--secondary);
        }

        .calculators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .calculator-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 35px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .calculator-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(139, 92, 246, 0.1) 0%, 
                transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .calculator-card:hover::before {
            opacity: 1;
        }

        .calculator-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            border-color: var(--primary-light);
        }

        .calculator-card h3 {
            color: var(--text);
            margin-bottom: 25px;
            font-size: 1.5em;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .form-group {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .form-group:hover {
            border-color: var(--primary-light);
            background: rgba(255, 255, 255, 0.05);
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 12px;
            font-size: 1em;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 14px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            font-size: 16px;
            color: var(--text);
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }

        .range-info {
            font-size: 0.9em;
            color: var(--text-lighter);
            margin-top: 8px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent);
            transition: left 0.6s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4);
        }

        .result-box {
            background: linear-gradient(135deg, 
                rgba(16, 185, 129, 0.1) 0%, 
                rgba(6, 182, 212, 0.05) 100%);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 16px;
            padding: 25px;
            margin-top: 25px;
            display: none;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .diagnostic-section {
            background: linear-gradient(135deg, 
                rgba(245, 158, 11, 0.1) 0%, 
                rgba(251, 191, 36, 0.05) 100%);
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: 20px;
            padding: 35px;
            margin: 40px 0;
        }

        .section-title {
            font-size: 2em;
            color: var(--text);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .section-subtitle {
            font-size: 1.1em;
            color: var(--text-light);
            margin-bottom: 30px;
        }

        .tab-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab-btn {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 18px 24px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            color: var(--text-light);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 160px;
            justify-content: center;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-color: var(--primary-light);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
        }

        .tab-btn:hover:not(.active) {
            background: var(--glass-hover);
            border-color: var(--primary-light);
            color: var(--text);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .tab-content.active {
            display: block;
        }

        .clinical-guide {
            background: linear-gradient(135deg, 
                rgba(16, 185, 129, 0.1) 0%, 
                rgba(6, 182, 212, 0.05) 100%);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 20px;
            padding: 35px;
            margin: 40px 0;
        }

        .motto {
            font-weight: 600;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-size: 1.1em;
        }

        .motto.danger { 
            background: rgba(239, 68, 68, 0.1); 
            color: var(--danger); 
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        .motto.warning { 
            background: rgba(245, 158, 11, 0.1); 
            color: var(--warning); 
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .target-values {
            background: rgba(16, 185, 129, 0.05);
            border: 1px solid rgba(16, 185, 129, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .medication-card {
            background: rgba(139, 92, 246, 0.05);
            border: 1px solid rgba(139, 92, 246, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .dose-recommendation {
            background: rgba(16, 185, 129, 0.05);
            border-left: 4px solid var(--success);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .interaction-warning {
            background: rgba(239, 68, 68, 0.05);
            border: 1px solid rgba(239, 68, 68, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .warning-icon {
            color: var(--warning);
            margin-right: 8px;
        }

        .danger-icon {
            color: var(--danger);
            margin-right: 8px;
        }

        .targets-table {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            overflow: hidden;
            margin: 15px 0;
        }

        .targets-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .targets-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .targets-table td {
            padding: 15px;
            border-bottom: 1px solid var(--glass-border);
        }

        .targets-table tr:last-child td {
            border-bottom: none;
        }

        .symptoms-table {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .symptoms-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .symptoms-table th {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 20px;
            text-align: left;
            font-weight: 600;
            font-size: 1.1em;
        }

        .symptoms-table td {
            padding: 20px;
            border-bottom: 1px solid var(--glass-border);
            vertical-align: top;
            transition: background 0.3s ease;
        }

        .symptoms-table tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.02);
        }

        .symptoms-table tr:hover td {
            background: var(--glass-hover);
        }

        .symptoms-table tr:last-child td {
            border-bottom: none;
        }

        .system-group {
            font-weight: 600;
            color: var(--primary-light);
            background: linear-gradient(135deg, 
                rgba(139, 92, 246, 0.1) 0%, 
                rgba(6, 182, 212, 0.05) 100%) !important;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2.5em;
            }
            
            .content {
                padding: 25px;
            }
            
            .main-menu {
                flex-direction: column;
            }
            
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            
            .calculators-grid {
                grid-template-columns: 1fr;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .tab-buttons {
                flex-direction: column;
            }
            
            .tab-btn {
                min-width: auto;
            }
        }
    </style>
</head>
<body>
    <div class="background-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="container">
        <header class="header">
            <h1><i class="fas fa-gem"></i> ПАРАЩИТОВИДНЫЕ ЖЕЛЕЗЫ</h1>
            <p>Современная диагностика и лечение нарушений кальций-фосфорного обмена</p>
        </header>

        <nav class="main-menu">
            <a href="../../index.html" class="nav-btn">
                <i class="fas fa-home"></i> Главная
            </a>
            <a href="index.html" class="nav-btn">
                <i class="fas fa-butterfly"></i> Щитовидная железа
            </a>
            <a href="hypothyroidism.html" class="nav-btn">
                <i class="fas fa-chart-line-down"></i> Гипотиреоз
            </a>
            <a href="hyperthyroidism.html" class="nav-btn">
                <i class="fas fa-chart-line-up"></i> Гипертиреоз
            </a>
            <a href="parathyroid.html" class="nav-btn active">
                <i class="fas fa-gem"></i> Паращитовидные
            </a>
        </nav>

        <main class="content">
            <h1 class="page-title">Паращитовидные железы</h1>
            <p class="page-subtitle">Регуляция кальций-фосфорного обмена и диагностика патологий</p>

            <div class="info-grid">
                <div class="info-card">
                    <h3><i class="fas fa-anatomy"></i> Анатомия и физиология</h3>
                    <ul>
                        <li><strong>4 железы</strong> - верхние и нижние пары</li>
                        <li><strong>Расположение:</strong> задняя поверхность щитовидной железы</li>
                        <li><strong>Гормон:</strong> Паратгормон (ПТГ)</li>
                        <li><strong>Функция:</strong> Регуляция уровня кальция в крови</li>
                        <li><strong>Клетки:</strong> Главные (продуцируют ПТГ) и оксифильные</li>
                        <li><strong>Кровоснабжение:</strong> Нижние щитовидные артерии</li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3><i class="fas fa-vial"></i> Лабораторная диагностика</h3>
                    <ul>
                        <li><strong>ПТГ интактный</strong> - 15-65 пг/мл</li>
                        <li><strong>Кальций общий</strong> - 2.15-2.55 ммоль/л</li>
                        <li><strong>Кальций ионизированный</strong> - 1.05-1.30 ммоль/л</li>
                        <li><strong>Фосфор</strong> - 0.81-1.45 ммоль/л</li>
                        <li><strong>Магний</strong> - 0.66-1.07 ммоль/л</li>
                        <li><strong>Щелочная фосфатаза</strong> - 30-120 Ед/л</li>
                        <li><strong>Витамин D (25-ОН)</strong> - 30-100 нг/мл</li>
                    </ul>
                </div>

                <div class="info-card">
                    <h3><i class="fas fa-search-plus"></i> Инструментальная диагностика</h3>
                    <ul>
                        <li><strong>УЗИ шеи</strong> - визуализация желез</li>
                        <li><strong>Сцинтиграфия</strong> - с MIBI-Tc99m</li>
                        <li><strong>КТ шеи с контрастом</strong></li>
                        <li><strong>МРТ шеи</strong> - при ревизионных операциях</li>
                        <li><strong>Селективная венозная катетеризация</strong></li>
                        <li><strong>Денситометрия</strong> - оценка остеопороза</li>
                    </ul>
                </div>
            </div>

            <div class="diagnostic-section">
                <h2 class="section-title"><i class="fas fa-stethoscope"></i> Диагностика и калькуляторы</h2>
                <p class="section-subtitle">Комплексная оценка кальций-фосфорного обмена</p>
                
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="hyperparathyroid-tab">
                        <i class="fas fa-arrow-up"></i> Гиперпаратиреоз
                    </button>
                    <button class="tab-btn" data-tab="hypoparathyroid-tab">
                        <i class="fas fa-arrow-down"></i> Гипопаратиреоз
                    </button>
                    <button class="tab-btn" data-tab="calcium-tab">
                        <i class="fas fa-calculator"></i> Кальций коррекция
                    </button>
                    <button class="tab-btn" data-tab="vitamin-d-tab">
                        <i class="fas fa-sun"></i> Витамин D
                    </button>
                </div>

                <div id="hyperparathyroid-tab" class="tab-content active">
                    <div class="calculators-grid">
                        <div class="calculator-card">
                            <h3><i class="fas fa-diagnoses"></i> Диагностика гиперпаратиреоза</h3>
                            <div class="form-group">
                                <label for="hyperPTH">ПТГ интактный (пг/мл)</label>
                                <input type="number" step="0.1" id="hyperPTH" placeholder="15-65" value="120">
                                <div class="range-info">Норма: 15-65 пг/мл</div>
                            </div>
                            <div class="form-group">
                                <label for="hyperCa">Кальций общий (ммоль/л)</label>
                                <input type="number" step="0.01" id="hyperCa" placeholder="2.15-2.55" value="2.85">
                                <div class="range-info">Норма: 2.15-2.55 ммоль/л</div>
                            </div>
                            <div class="form-group">
                                <label for="hyperPhos">Фосфор (ммоль/л)</label>
                                <input type="number" step="0.01" id="hyperPhos" placeholder="0.81-1.45" value="0.65">
                                <div class="range-info">Норма: 0.81-1.45 ммоль/л</div>
                            </div>
                            <div class="form-group">
                                <label for="hyperVitD">Витамин D 25-ОН (нг/мл)</label>
                                <input type="number" step="0.1" id="hyperVitD" placeholder="30-100" value="18">
                                <div class="range-info">Норма: 30-100 нг/мл</div>
                            </div>
                            <button class="btn" onclick="diagnoseHyperparathyroidism()">
                                <i class="fas fa-search"></i> Диагностировать
                            </button>
                            <div id="hyperDiagnosisResult" class="result-box"></div>
                        </div>

                        <div class="calculator-card">
                            <h3><i class="fas fa-calculator"></i> Калькулятор хирургического риска</h3>
                            <div class="form-group">
                                <label for="surgeryAge">Возраст пациента</label>
                                <input type="number" id="surgeryAge" placeholder="лет" value="55">
                            </div>
                            <div class="form-group">
                                <label for="surgeryCa">Кальций общий (ммоль/л)</label>
                                <input type="number" step="0.01" id="surgeryCa" placeholder="2.15-2.55" value="2.95">
                            </div>
                            <div class="form-group">
                                <label for="surgeryCreatinine">Креатинин (мкмоль/л)</label>
                                <input type="number" id="surgeryCreatinine" placeholder="60-110" value="130">
                                <div class="range-info">Норма: 60-110 мкмоль/л</div>
                            </div>
                            <div class="form-group">
                                <label for="surgeryBoneDensity">Т-скор денситометрии</label>
                                <input type="number" step="0.1" id="surgeryBoneDensity" placeholder="-1.0 и выше" value="-2.5">
                                <div class="range-info">Норма: > -1.0 SD</div>
                            </div>
                            <div class="form-group">
                                <label for="surgeryKidneyStones">Наличие нефролитиаза</label>
                                <select id="surgeryKidneyStones">
                                    <option value="no">Нет</option>
                                    <option value="yes" selected>Да</option>
                                </select>
                            </div>
                            <button class="btn" onclick="calculateSurgicalRisk()">
                                <i class="fas fa-procedures"></i> Оценить риск
                            </button>
                            <div id="surgeryRiskResult" class="result-box"></div>
                        </div>
                    </div>

                    <div class="clinical-guide">
                        <h3><i class="fas fa-graduation-cap"></i> Критерии первичного гиперпаратиреоза</h3>
                        <div class="target-values">
                            <h4>📋 Обязательные критерии:</h4>
                            <ul>
                                <li>Повышение уровня кальция в сыворотке крови</li>
                                <li>Повышение или нормальный уровень ПТГ</li>
                                <li>Отсутствие гипокальциурии (суточная экскреция кальция < 10 ммоль/сут)</li>
                                <li>Исключение других причин гиперкальциемии</li>
                            </ul>
                        </div>
                        
                        <div class="target-values">
                            <h4>🎯 Показания к оперативному лечению:</h4>
                            <ul>
                                <li>Уровень кальция > 0.25 ммоль/л выше верхней границы нормы</li>
                                <li>Кальций суточной мочи > 10 ммоль/сут</li>
                                <li>Т-скор < -2.5 SD</li>
                                <li>Возраст < 50 лет</li>
                                <li>Креатинин клиренс < 60 мл/мин</li>
                                <li>Наличие нефролитиаза</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="hypoparathyroid-tab" class="tab-content">
                    <div class="calculators-grid">
                        <div class="calculator-card">
                            <h3><i class="fas fa-diagnoses"></i> Диагностика гипопаратиреоза</h3>
                            <div class="form-group">
                                <label for="hypoPTH">ПТГ интактный (пг/мл)</label>
                                <input type="number" step="0.1" id="hypoPTH" placeholder="15-65" value="8">
                                <div class="range-info">Норма: 15-65 пг/мл</div>
                            </div>
                            <div class="form-group">
                                <label for="hypoCa">Кальций общий (ммоль/л)</label>
                                <input type="number" step="0.01" id="hypoCa" placeholder="2.15-2.55" value="1.75">
                                <div class="range-info">Норма: 2.15-2.55 ммоль/л</div>
                            </div>
                            <div class="form-group">
                                <label for="hypoPhos">Фосфор (ммоль/л)</label>
                                <input type="number" step="0.01" id="hypoPhos" placeholder="0.81-1.45" value="1.85">
                                <div class="range-info">Норма: 0.81-1.45 ммоль/л</div>
                            </div>
                            <div class="form-group">
                                <label for="hypoMg">Магний (ммоль/л)</label>
                                <input type="number" step="0.01" id="hypoMg" placeholder="0.66-1.07" value="0.55">
                                <div class="range-info">Норма: 0.66-1.07 ммоль/л</div>
                            </div>
                            <button class="btn" onclick="diagnoseHypoparathyroidism()">
                                <i class="fas fa-search"></i> Диагностировать
                            </button>
                            <div id="hypoDiagnosisResult" class="result-box"></div>
                        </div>

                        <div class="calculator-card">
                            <h3><i class="fas fa-capsules"></i> Расчет заместительной терапии</h3>
                            <div class="form-group">
                                <label for="therapyWeight">Вес пациента (кг)</label>
                                <input type="number" id="therapyWeight" placeholder="кг" value="70">
                            </div>
                            <div class="form-group">
                                <label for="therapyCa">Кальций общий (ммоль/л)</label>
                                <input type="number" step="0.01" id="therapyCa" placeholder="2.15-2.55" value="1.80">
                            </div>
                            <div class="form-group">
                                <label for="therapyAlbumin">Альбумин (г/л)</label>
                                <input type="number" id="therapyAlbumin" placeholder="35-50" value="42">
                                <div class="range-info">Норма: 35-50 г/л</div>
                            </div>
                            <div class="form-group">
                                <label for="therapyCreatinine">Креатинин (мкмоль/л)</label>
                                <input type="number" id="therapyCreatinine" placeholder="60-110" value="85">
                            </div>
                            <div class="form-group">
                                <label for="therapySymptoms">Неврологические симптомы</label>
                                <select id="therapySymptoms">
                                    <option value="none">Отсутствуют</option>
                                    <option value="mild">Легкие (парестезии)</option>
                                    <option value="moderate" selected>Умеренные (судороги)</option>
                                    <option value="severe">Тяжелые (тетания)</option>
                                </select>
                            </div>
                            <button class="btn" onclick="calculateReplacementTherapy()">
                                <i class="fas fa-calculator"></i> Рассчитать терапию
                            </button>
                            <div id="therapyResult" class="result-box"></div>
                        </div>
                    </div>
                </div>

                <div id="calcium-tab" class="tab-content">
                    <div class="calculators-grid">
                        <div class="calculator-card">
                            <h3><i class="fas fa-calculator"></i> Коррекция уровня кальция по альбумину</h3>
                            <div class="form-group">
                                <label for="calcCa">Кальций общий (ммоль/л)</label>
                                <input type="number" step="0.01" id="calcCa" placeholder="2.15-2.55" value="2.10">
                            </div>
                            <div class="form-group">
                                <label for="calcAlbumin">Альбумин (г/л)</label>
                                <input type="number" id="calcAlbumin" placeholder="35-50" value="28">
                                <div class="range-info">Норма: 35-50 г/л</div>
                            </div>
                            <button class="btn" onclick="correctCalciumForAlbumin()">
                                <i class="fas fa-calculator"></i> Рассчитать коррекцию
                            </button>
                            <div id="calciumCorrectionResult" class="result-box"></div>
                        </div>

                        <div class="calculator-card">
                            <h3><i class="fas fa-bolt"></i> Неотложная помощь при гипокальциемии</h3>
                            <div class="form-group">
                                <label for="emergencyCa">Кальций ионизированный (ммоль/л)</label>
                                <input type="number" step="0.01" id="emergencyCa" placeholder="1.05-1.30" value="0.75">
                                <div class="range-info">Критический: < 0.80 ммоль/л</div>
                            </div>
                            <div class="form-group">
                                <label for="emergencySymptoms">Клинические проявления</label>
                                <select id="emergencySymptoms">
                                    <option value="mild">Парестезии, мышечные спазмы</option>
                                    <option value="moderate">Ларингоспазм, бронхоспазм</option>
                                    <option value="severe" selected>Тетания, судороги, нарушение сознания</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="emergencyWeight">Вес пациента (кг)</label>
                                <input type="number" id="emergencyWeight" placeholder="кг" value="70">
                            </div>
                            <button class="btn" onclick="calculateEmergencyCalcium()">
                                <i class="fas fa-bolt"></i> Рассчитать неотложную помощь
                            </button>
                            <div id="emergencyResult" class="result-box"></div>
                        </div>
                    </div>
                </div>

                <div id="vitamin-d-tab" class="tab-content">
                    <div class="calculator-card">
                        <h3><i class="fas fa-sun"></i> Взаимосвязь витамина D и ПТГ</h3>
                        <div class="form-group">
                            <label for="vitdPTHLevel">ПТГ интактный (пг/мл)</label>
                            <input type="number" step="0.1" id="vitdPTHLevel" placeholder="15-65" value="85">
                        </div>
                        <div class="form-group">
                            <label for="vitdLevel">Витамин D 25-ОН (нг/мл)</label>
                            <input type="number" step="0.1" id="vitdLevel" placeholder="30-100" value="18">
                        </div>
                        <div class="form-group">
                            <label for="vitdCa">Кальций общий (ммоль/л)</label>
                            <input type="number" step="0.01" id="vitdCa" placeholder="2.15-2.55" value="2.25">
                        </div>
                        <div class="form-group">
                            <label for="vitdPhos">Фосфор (ммоль/л)</label>
                            <input type="number" step="0.01" id="vitdPhos" placeholder="0.81-1.45" value="0.95">
                        </div>
                        <button class="btn" onclick="analyzeVitaminDPTH()">
                            <i class="fas fa-chart-line"></i> Проанализировать взаимосвязь
                        </button>
                        <div id="vitaminDPTHResult" class="result-box"></div>
                    </div>
                </div>
            </div>

            <div class="symptoms-table">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 25%;">Система органов</th>
                            <th style="width: 75%;">Клинические проявления</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="system-group">
                            <td colspan="2"><strong>ГИПЕРПАРАТИРЕОЗ - "Кости, камни, стоны, психомозги"</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Костная система</strong></td>
                            <td>
                                <ul>
                                    <li>Остеопороз, остеопения</li>
                                    <li>Боли в костях, патологические переломы</li>
                                    <li>Кистозные изменения костей (остеодистрофия)</li>
                                    <li>"Солевой иней" на рентгене черепа</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Мочевыделительная система</strong></td>
                            <td>
                                <ul>
                                    <li>Нефролитиаз (камни почек)</li>
                                    <li>Нефрокальциноз</li>
                                    <li>Почечная недостаточность</li>
                                    <li>Полиурия, полидипсия</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Нервно-психическая сфера</strong></td>
                            <td>
                                <ul>
                                    <li>Депрессия, апатия, эмоциональная лабильность</li>
                                    <li>Снижение памяти, когнитивные нарушения</li>
                                    <li>Головные боли, мышечная слабость</li>
                                    <li>Повышенная утомляемость</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Желудочно-кишечный тракт</strong></td>
                            <td>
                                <ul>
                                    <li>Тошнота, рвота, анорексия</li>
                                    <li>Запоры, боли в животе</li>
                                    <li>Панкреатит, язвенная болезнь</li>
                                </ul>
                            </td>
                        </tr>

                        <tr class="system-group">
                            <td colspan="2"><strong>ГИПОПАРАТИРЕОЗ - Неврологические проявления</strong></td>
                        </tr>
                        <tr>
                            <td><strong>Нервно-мышечная система</strong></td>
                            <td>
                                <ul>
                                    <li>Парестезии (онемение, покалывание)</li>
                                    <li>Мышечные спазмы, судороги</li>
                                    <li>Тетания (карпопедальный спазм)</li>
                                    <li>Ларингоспазм, бронхоспазм</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Центральная нервная система</strong></td>
                            <td>
                                <ul>
                                    <li>Повышенная возбудимость</li>
                                    <li>Головные боли, головокружение</li>
                                    <li>Эпилептические приступы</li>
                                    <li>Экстрапирамидные нарушения</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Сердечно-сосудистая система</strong></td>
                            <td>
                                <ul>
                                    <li>Удлинение интервала QT на ЭКГ</li>
                                    <li>Аритмии, сердечная недостаточность</li>
                                    <li>Гипотензия</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Другие проявления</strong></td>
                            <td>
                                <ul>
                                    <li>Сухость кожи, ломкость ногтей</li>
                                    <li>Катаракта</li>
                                    <li>Нарушения зубной эмали</li>
                                    <li>Задержка психического развития (у детей)</li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="clinical-guide">
                <h2 class="section-title"><i class="fas fa-graduation-cap"></i> Ведение заболеваний паращитовидных желез</h2>
                <p class="section-subtitle">Клинические рекомендации и протоколы лечения</p>

                <div class="info-grid">
                    <div class="info-card">
                        <h3><i class="fas fa-arrow-up"></i> Первичный гиперпаратиреоз</h3>
                        <div class="motto danger">Девиз: "Хирургия - золотой стандарт"</div>
                        
                        <div class="target-values">
                            <h4>🎯 Целевые значения после операции:</h4>
                            <ul>
                                <li><strong>Кальций:</strong> 2.15-2.55 ммоль/л</li>
                                <li><strong>ПТГ:</strong> 15-65 пг/мл</li>
                                <li><strong>Витамин D:</strong> 30-100 нг/мл</li>
                            </ul>
                        </div>
                        
                        <ul>
                            <li><strong>Паратиреоидэктомия</strong> - метод выбора</li>
                            <li>Интраоперационное определение ПТГ для оценки адекватности резекции</li>
                            <li>При отказе от операции - бисфосфонаты, цинакальцет</li>
                            <li>Контроль функции почек и костной плотности</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3><i class="fas fa-arrow-down"></i> Хронический гипопаратиреоз</h3>
                        <div class="motto warning">Девиз: "Стабильность и безопасность"</div>
                        
                        <div class="target-values">
                            <h4>🎯 Целевые значения терапии:</h4>
                            <ul>
                                <li><strong>Кальций:</strong> 2.0-2.2 ммоль/л (нижняя треть нормы)</li>
                                <li><strong>Фосфор:</strong> < 1.6 ммоль/л</li>
                                <li><strong>Кальций-фосфорное произведение:</strong> < 4.4</li>
                            </ul>
                        </div>
                        
                        <ul>
                            <li><strong>Кальций карбонат</strong> 1-3 г/сут в 3-4 приема</li>
                            <li><strong>Кальцитриол</strong> 0.25-2.0 мкг/сут</li>
                            <li>Контроль кальция и креатинина каждые 3-6 месяцев</li>
                            <li>Оценка нефрокальциноза 1 раз в 1-2 года</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3><i class="fas fa-exclamation-triangle"></i> Гиперкальциемический криз</h3>
                        <div class="motto danger">Девиз: "Быстро и агрессивно"</div>
                        
                        <div class="target-values">
                            <h4>🚨 Критерии криза:</h4>
                            <ul>
                                <li><strong>Кальций > 3.5 ммоль/л</strong></li>
                                <li>Нарушение сознания, дегидратация</li>
                                <li>Олигурия, сердечные аритмии</li>
                            </ul>
                        </div>
                        
                        <ul>
                            <li><strong>Инфузия физиологического раствора</strong> 3-4 л/сут</li>
                            <li><strong>Фуросемид</strong> 20-40 мг в/в после гидратации</li>
                            <li><strong>Кальцитонин</strong> 4-8 МЕ/кг каждые 6-12 часов</li>
                            <li><strong>Бисфосфонаты</strong> (памидронат 60-90 мг в/в)</li>
                            <li>Экстренная паратиреоидэктомия</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // БАЗА ЗНАНИЙ ПО ПАРАЩИТОВИДНЫМ ЖЕЛЕЗАМ
        const PARATHYROID_KNOWLEDGE = {
            // Диагностика гиперпаратиреоза
            diagnoseHyperparathyroidism: function(pth, calcium, phosphorus, vitD) {
                let diagnosis = "";
                let recommendations = [];
                let severity = "";
                
                if (pth > 65 && calcium > 2.55) {
                    diagnosis = "🔴 ПЕРВИЧНЫЙ ГИПЕРПАРАТИРЕОЗ";
                    severity = "danger";
                    recommendations = [
                        "Консультация эндокринного хирурга",
                        "УЗИ паращитовидных желез",
                        "Сцинтиграфия с MIBI-Tc99m",
                        "Оценка показаний к оперативному лечению",
                        "Денситометрия для оценки остеопороза"
                    ];
                    
                    if (phosphorus < 0.81) {
                        recommendations.push("Характерная гипофосфатемия подтверждает диагноз");
                    }
                    
                    if (vitD < 30) {
                        recommendations.push("Дефицит витамина D требует коррекции перед операцией");
                    }
                } 
                else if (pth > 65 && calcium <= 2.55) {
                    diagnosis = "🟡 НОРМОКАЛЬЦИЕМИЧЕСКИЙ ГИПЕРПАРАТИРЕОЗ";
                    severity = "warning";
                    recommendations = [
                        "Исключить дефицит витамина D",
                        "Повторить исследование кальция и ПТГ через 3-6 месяцев",
                        "Оценка факторов, влияющих на уровень кальция"
                    ];
                }
                else if (pth <= 65 && calcium > 2.55) {
                    diagnosis = "🟡 ГИПЕРКАЛЬЦИЕМИЯ НЕПАРАТИРЕОИДНОГО ГЕНЕЗА";
                    severity = "warning";
                    recommendations = [
                        "Исключить злокачественные новообразования",
                        "Исследовать ПТГ-подобный пептид",
                        "Оценка приема препаратов (тиазиды, литий)",
                        "Исключить саркоидоз, тиреотоксикоз"
                    ];
                }
                else {
                    diagnosis = "🟢 НОРМА";
                    severity = "success";
                    recommendations = ["Плановое наблюдение"];
                }

                return { diagnosis, recommendations, severity };
            },

            // Расчет хирургического риска
            calculateSurgicalRisk: function(age, calcium, creatinine, tScore, kidneyStones) {
                let riskScore = 0;
                let riskLevel = "";
                let recommendations = [];
                
                // Возраст > 70 лет
                if (age > 70) riskScore += 2;
                else if (age > 50) riskScore += 1;
                
                // Уровень кальция
                if (calcium > 3.0) riskScore += 3;
                else if (calcium > 2.8) riskScore += 2;
                else if (calcium > 2.65) riskScore += 1;
                
                // Функция почек
                if (creatinine > 150) riskScore += 3;
                else if (creatinine > 120) riskScore += 2;
                
                // Плотность костей
                if (tScore < -2.5) riskScore += 2;
                else if (tScore < -1.0) riskScore += 1;
                
                // Нефролитиаз
                if (kidneyStones === "yes") riskScore += 2;
                
                // Определение уровня риска
                if (riskScore >= 8) {
                    riskLevel = "🔴 ВЫСОКИЙ РИСК";
                    recommendations = [
                        "Предоперационная коррекция гиперкальциемии",
                        "Консультация кардиолога и нефролога",
                        "Рассмотреть возможность малоинвазивной операции",
                        "Интраоперационный мониторинг ПТГ обязателен"
                    ];
                } else if (riskScore >= 5) {
                    riskLevel = "🟡 УМЕРЕННЫЙ РИСК";
                    recommendations = [
                        "Стандартная предоперационная подготовка",
                        "Рекомендована интраоперационная оценка ПТГ",
                        "Возможна малоинвазивная паратиреоидэктомия"
                    ];
                } else {
                    riskLevel = "🟢 НИЗКИЙ РИСК";
                    recommendations = [
                        "Стандартная операция с благоприятным прогнозом",
                        "Быстрое восстановление после операции"
                    ];
                }
                
                return { riskScore, riskLevel, recommendations };
            },

            // Диагностика гипопаратиреоза
            diagnoseHypoparathyroidism: function(pth, calcium, phosphorus, magnesium) {
                let diagnosis = "";
                let recommendations = [];
                let severity = "";
                
                if (pth < 15 && calcium < 2.15) {
                    diagnosis = "🔴 ГИПОПАРАТИРЕОЗ";
                    severity = "danger";
                    recommendations = [
                        "Немедленная коррекция гипокальциемии",
                        "Назначение препаратов кальция и кальцитриола",
                        "Определение причины (послеоперационный, аутоиммунный)"
                    ];
                    
                    if (phosphorus > 1.45) {
                        recommendations.push("Характерная гиперфосфатемия подтверждает диагноз");
                    }
                    
                    if (magnesium < 0.66) {
                        recommendations.push("Гипомагниемия может быть причиной функционального гипопаратиреоза");
                    }
                }
                else if (pth > 65 && calcium < 2.15) {
                    diagnosis = "🟡 ВТОРИЧНЫЙ ГИПЕРПАРАТИРЕОЗ";
                    severity = "warning";
                    recommendations = [
                        "Исключить дефицит витамина D",
                        "Оценить функцию почек",
                        "Исследовать всасывание кальция в кишечнике"
                    ];
                }
                else {
                    diagnosis = "🟢 НОРМА";
                    severity = "success";
                    recommendations = ["Плановое наблюдение"];
                }

                return { diagnosis, recommendations, severity };
            },

            // Расчет заместительной терапии
            calculateReplacementTherapy: function(weight, calcium, albumin, creatinine, symptoms) {
                let calciumDose = "";
                let calcitriolDose = "";
                let monitoring = [];
                
                // Коррекция кальция по альбумину
                const correctedCalcium = calcium + (40 - albumin) * 0.02;
                
                // Расчет доз
                if (correctedCalcium < 1.9 || symptoms === "severe") {
                    calciumDose = "Кальция карбонат 3-4 г/сут в 4 приема";
                    calcitriolDose = "Кальцитриол 1.0-2.0 мкг/сут";
                    monitoring = [
                        "Контроль кальция ежедневно до стабилизации",
                        "Контроль креатинина 2 раза в неделю",
                        "Оценка неврологической симптоматики"
                    ];
                } 
                else if (correctedCalcium < 2.0 || symptoms === "moderate") {
                    calciumDose = "Кальция карбонат 2-3 г/сут в 3 приема";
                    calcitriolDose = "Кальцитриол 0.5-1.0 мкг/сут";
                    monitoring = [
                        "Контроль кальция 2 раза в неделю",
                        "Контроль креатинина 1 раз в неделю"
                    ];
                }
                else {
                    calciumDose = "Кальция карбонат 1-2 г/сут в 2-3 приема";
                    calcitriolDose = "Кальцитриол 0.25-0.5 мкг/сут";
                    monitoring = [
                        "Контроль кальция 1 раз в 2 недели",
                        "Контроль креатинина 1 раз в месяц"
                    ];
                }
                
                // Дополнительные рекомендации
                monitoring.push("Целевой уровень кальция: 2.0-2.2 ммоль/л");
                monitoring.push("Контроль фосфора 1 раз в месяц");
                monitoring.push("УЗИ почек 1 раз в год для исключения нефрокальциноза");
                
                return { calciumDose, calcitriolDose, monitoring, correctedCalcium };
            },

            // Коррекция кальция по альбумину
            correctCalciumForAlbumin: function(calcium, albumin) {
                const correctedCalcium = calcium + (40 - albumin) * 0.02;
                let interpretation = "";
                
                if (correctedCalcium < 2.15) {
                    interpretation = "Гипокальциемия (после коррекции)";
                } else if (correctedCalcium > 2.55) {
                    interpretation = "Гиперкальциемия (после коррекции)";
                } else {
                    interpretation = "Нормальный уровень кальция (после коррекции)";
                }
                
                return { correctedCalcium, interpretation };
            },

            // Неотложная помощь при гипокальциемии
            calculateEmergencyCalcium: function(ionizedCalcium, symptoms, weight) {
                let emergencyDose = "";
                let administration = "";
                let monitoring = [];
                
                if (ionizedCalcium < 0.8 || symptoms === "severe") {
                    emergencyDose = `Глюконат кальция 10% - ${Math.round(weight * 1.5)} мл в/в струйно медленно`;
                    administration = "Вводить со скоростью 0.5-1.0 мл/мин под контролем ЭКГ";
                    monitoring = [
                        "Непрерывный мониторинг ЭКГ",
                        "Контроль ионизированного кальция каждые 2 часа",
                        "Готовность к купированию ларингоспазма"
                    ];
                }
                else if (ionizedCalcium < 1.0 || symptoms === "moderate") {
                    emergencyDose = `Глюконат кальция 10% - ${Math.round(weight * 1.0)} мл в/в капельно`;
                    administration = "Развести в 100 мл 5% глюкозы, вводить за 30 минут";
                    monitoring = [
                        "Контроль ЭКГ каждые 30 минут",
                        "Контроль ионизированного кальция через 4 часа"
                    ];
                }
                else {
                    emergencyDose = "Кальция карбонат 2-4 г перорально";
                    administration = "Принять с большим количеством воды";
                    monitoring = [
                        "Контроль кальция через 24 часа",
                        "Оценка динамики симптомов"
                    ];
                }
                
                return { emergencyDose, administration, monitoring };
            },

            // Анализ взаимосвязи витамина D и ПТГ
            analyzeVitaminDPTH: function(pth, vitD, calcium, phosphorus) {
                let analysis = "";
                let recommendations = [];
                
                if (vitD < 30 && pth > 65) {
                    analysis = "🔴 ВТОРИЧНЫЙ ГИПЕРПАРАТИРЕОЗ НА ФОНЕ ДЕФИЦИТА ВИТАМИНА D";
                    recommendations = [
                        "Коррекция дефицита витамина D",
                        "Назначение холекальциферола 2000-4000 МЕ/сут",
                        "Контроль ПТГ через 3 месяца после нормализации витамина D",
                        "При сохранении высокого ПТГ - исключить первичный гиперпаратиреоз"
                    ];
                }
                else if (vitD < 20 && pth > 100) {
                    analysis = "🔴 ТЯЖЕЛЫЙ ДЕФИЦИТ ВИТАМИНА D С КОМПЕНСАТОРНЫМ ГИПЕРПАРАТИРЕОЗОМ";
                    recommendations = [
                        "Насыщающая терапия витамином D",
                        "Холекальциферол 4000-10000 МЕ/сут 8 недель",
                        "Контроль кальция и фосфора каждые 2 недели",
                        "После коррекции - поддерживающая доза 2000 МЕ/сут"
                    ];
                }
                else if (vitD > 30 && pth > 65 && calcium > 2.55) {
                    analysis = "🔴 ПЕРВИЧНЫЙ ГИПЕРПАРАТИРЕОЗ";
                    recommendations = [
                        "Консультация эндокринного хирурга",
                        "Дополнительное обследование для подтверждения диагноза"
                    ];
                }
                else {
                    analysis = "🟢 НОРМАЛЬНАЯ ВЗАИМОСВЯЗЬ ВИТАМИНА D И ПТГ";
                    recommendations = ["Плановое наблюдение"];
                }
                
                return { analysis, recommendations };
            }
        };

        // ОСНОВНЫЕ ФУНКЦИИ
        function diagnoseHyperparathyroidism() {
            const pth = parseFloat(document.getElementById('hyperPTH').value);
            const calcium = parseFloat(document.getElementById('hyperCa').value);
            const phosphorus = parseFloat(document.getElementById('hyperPhos').value);
            const vitD = parseFloat(document.getElementById('hyperVitD').value);
            
            if (!pth || !calcium) {
                alert('Заполните обязательные поля: ПТГ и Кальций');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.diagnoseHyperparathyroidism(pth, calcium, phosphorus, vitD);
            
            let resultHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 1.5em; font-weight: 800; color: ${
                        result.severity === 'danger' ? 'var(--danger)' : 
                        result.severity === 'warning' ? 'var(--warning)' : 'var(--success)'
                    };">${result.diagnosis}</div>
                </div>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>📊 Лабораторные показатели:</h4>
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>ПТГ:</span>
                            <strong>${pth} пг/мл</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций общий:</span>
                            <strong>${calcium} ммоль/л</strong>
                        </div>
                        ${phosphorus ? `<div style="display: flex; justify-content: space-between;">
                            <span>Фосфор:</span>
                            <strong>${phosphorus} ммоль/л</strong>
                        </div>` : ''}
                        ${vitD ? `<div style="display: flex; justify-content: space-between;">
                            <span>Витамин D:</span>
                            <strong>${vitD} нг/мл</strong>
                        </div>` : ''}
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                    <h4>💡 Рекомендации:</h4>
                    <ul>
                        ${result.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            document.getElementById('hyperDiagnosisResult').innerHTML = resultHTML;
            document.getElementById('hyperDiagnosisResult').style.display = 'block';
        }

        function calculateSurgicalRisk() {
            const age = parseInt(document.getElementById('surgeryAge').value);
            const calcium = parseFloat(document.getElementById('surgeryCa').value);
            const creatinine = parseFloat(document.getElementById('surgeryCreatinine').value);
            const tScore = parseFloat(document.getElementById('surgeryBoneDensity').value);
            const kidneyStones = document.getElementById('surgeryKidneyStones').value;
            
            if (!age || !calcium || !creatinine || !tScore) {
                alert('Заполните все поля для оценки риска');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.calculateSurgicalRisk(age, calcium, creatinine, tScore, kidneyStones);
            
            let resultHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 1.5em; font-weight: 800; color: ${
                        result.riskLevel.includes('ВЫСОКИЙ') ? 'var(--danger)' : 
                        result.riskLevel.includes('УМЕРЕННЫЙ') ? 'var(--warning)' : 'var(--success)'
                    };">${result.riskLevel}</div>
                    <div style="color: var(--text-light);">Балл риска: ${result.riskScore}</div>
                </div>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>📊 Факторы риска:</h4>
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Возраст:</span>
                            <strong>${age} лет</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций:</span>
                            <strong>${calcium} ммоль/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Креатинин:</span>
                            <strong>${creatinine} мкмоль/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Т-скор:</span>
                            <strong>${tScore} SD</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Нефролитиаз:</span>
                            <strong>${kidneyStones === 'yes' ? 'Да' : 'Нет'}</strong>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                    <h4>💡 Рекомендации по операции:</h4>
                    <ul>
                        ${result.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            document.getElementById('surgeryRiskResult').innerHTML = resultHTML;
            document.getElementById('surgeryRiskResult').style.display = 'block';
        }

        function diagnoseHypoparathyroidism() {
            const pth = parseFloat(document.getElementById('hypoPTH').value);
            const calcium = parseFloat(document.getElementById('hypoCa').value);
            const phosphorus = parseFloat(document.getElementById('hypoPhos').value);
            const magnesium = parseFloat(document.getElementById('hypoMg').value);
            
            if (!pth || !calcium) {
                alert('Заполните обязательные поля: ПТГ и Кальций');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.diagnoseHypoparathyroidism(pth, calcium, phosphorus, magnesium);
            
            let resultHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 1.5em; font-weight: 800; color: ${
                        result.severity === 'danger' ? 'var(--danger)' : 
                        result.severity === 'warning' ? 'var(--warning)' : 'var(--success)'
                    };">${result.diagnosis}</div>
                </div>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h4>📊 Лабораторные показатели:</h4>
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>ПТГ:</span>
                            <strong>${pth} пг/мл</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций общий:</span>
                            <strong>${calcium} ммоль/л</strong>
                        </div>
                        ${phosphorus ? `<div style="display: flex; justify-content: space-between;">
                            <span>Фосфор:</span>
                            <strong>${phosphorus} ммоль/л</strong>
                        </div>` : ''}
                        ${magnesium ? `<div style="display: flex; justify-content: space-between;">
                            <span>Магний:</span>
                            <strong>${magnesium} ммоль/л</strong>
                        </div>` : ''}
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                    <h4>💡 Рекомендации:</h4>
                    <ul>
                        ${result.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            document.getElementById('hypoDiagnosisResult').innerHTML = resultHTML;
            document.getElementById('hypoDiagnosisResult').style.display = 'block';
        }

        function calculateReplacementTherapy() {
            const weight = parseFloat(document.getElementById('therapyWeight').value);
            const calcium = parseFloat(document.getElementById('therapyCa').value);
            const albumin = parseFloat(document.getElementById('therapyAlbumin').value);
            const creatinine = parseFloat(document.getElementById('therapyCreatinine').value);
            const symptoms = document.getElementById('therapySymptoms').value;
            
            if (!weight || !calcium || !albumin) {
                alert('Заполните обязательные поля: Вес, Кальций, Альбумин');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.calculateReplacementTherapy(weight, calcium, albumin, creatinine, symptoms);
            
            let resultHTML = `
                <h4>💊 Схема заместительной терапии</h4>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h5>📊 Расчетные параметры:</h5>
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций скорректированный:</span>
                            <strong>${result.correctedCalcium.toFixed(2)} ммоль/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Тяжесть симптомов:</span>
                            <strong>${symptoms}</strong>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h5>💊 Препараты кальция:</h5>
                    <div style="font-size: 1.1em; font-weight: 600; color: var(--primary);">
                        ${result.calciumDose}
                    </div>
                    <div style="font-size: 0.9em; color: var(--text-light); margin-top: 8px;">
                        Содержание элементарного кальция: 400 мг/1 г карбоната кальция
                    </div>
                </div>
                
                <div style="background: rgba(6, 182, 212, 0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h5>💊 Активный метаболит витамина D:</h5>
                    <div style="font-size: 1.1em; font-weight: 600; color: var(--secondary);">
                        ${result.calcitriolDose}
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                    <h5>📅 Мониторинг терапии:</h5>
                    <ul>
                        ${result.monitoring.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            document.getElementById('therapyResult').innerHTML = resultHTML;
            document.getElementById('therapyResult').style.display = 'block';
        }

        function correctCalciumForAlbumin() {
            const calcium = parseFloat(document.getElementById('calcCa').value);
            const albumin = parseFloat(document.getElementById('calcAlbumin').value);
            
            if (!calcium || !albumin) {
                alert('Заполните поля: Кальций и Альбумин');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.correctCalciumForAlbumin(calcium, albumin);
            
            let resultHTML = `
                <h4>🧮 Коррекция кальция по альбумину</h4>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций общий:</span>
                            <strong>${calcium} ммоль/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Альбумин:</span>
                            <strong>${albumin} г/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-weight: 700;">
                            <span>Кальций скорректированный:</span>
                            <strong style="color: var(--primary);">${result.correctedCalcium.toFixed(2)} ммоль/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Интерпретация:</span>
                            <strong>${result.interpretation}</strong>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 12px; border-radius: 6px;">
                    <strong>📝 Формула коррекции:</strong> Кальций скорректированный = Кальций общий + (40 - Альбумин) × 0.02
                </div>
            `;
            
            document.getElementById('calciumCorrectionResult').innerHTML = resultHTML;
            document.getElementById('calciumCorrectionResult').style.display = 'block';
        }

        function calculateEmergencyCalcium() {
            const ionizedCalcium = parseFloat(document.getElementById('emergencyCa').value);
            const symptoms = document.getElementById('emergencySymptoms').value;
            const weight = parseFloat(document.getElementById('emergencyWeight').value);
            
            if (!ionizedCalcium || !weight) {
                alert('Заполните обязательные поля: Кальций ионизированный и Вес');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.calculateEmergencyCalcium(ionizedCalcium, symptoms, weight);
            
            let resultHTML = `
                <h4>🚨 Неотложная помощь при гипокальциемии</h4>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций ионизированный:</span>
                            <strong style="color: ${ionizedCalcium < 0.8 ? 'var(--danger)' : 'var(--warning)'}">${ionizedCalcium} ммоль/л</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Клинические проявления:</span>
                            <strong>${symptoms}</strong>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(239, 68, 68, 0.1); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h5>💉 Экстренная терапия:</h5>
                    <div style="font-size: 1.1em; font-weight: 600; color: var(--danger);">
                        ${result.emergencyDose}
                    </div>
                    <div style="font-size: 0.9em; color: var(--text-light); margin-top: 8px;">
                        ${result.administration}
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                    <h5>📊 Мониторинг:</h5>
                    <ul>
                        ${result.monitoring.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            document.getElementById('emergencyResult').innerHTML = resultHTML;
            document.getElementById('emergencyResult').style.display = 'block';
        }

        function analyzeVitaminDPTH() {
            const pth = parseFloat(document.getElementById('vitdPTHLevel').value);
            const vitD = parseFloat(document.getElementById('vitdLevel').value);
            const calcium = parseFloat(document.getElementById('vitdCa').value);
            const phosphorus = parseFloat(document.getElementById('vitdPhos').value);
            
            if (!pth || !vitD || !calcium) {
                alert('Заполните обязательные поля: ПТГ, Витамин D и Кальций');
                return;
            }
            
            const result = PARATHYROID_KNOWLEDGE.analyzeVitaminDPTH(pth, vitD, calcium, phosphorus);
            
            let resultHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 1.3em; font-weight: 800; color: ${
                        result.analysis.includes('🔴') ? 'var(--danger)' : 'var(--success)'
                    };">${result.analysis}</div>
                </div>
                
                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <h5>📊 Показатели взаимосвязи:</h5>
                    <div style="display: grid; gap: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>ПТГ:</span>
                            <strong>${pth} пг/мл</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Витамин D:</span>
                            <strong>${vitD} нг/мл</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Кальций:</span>
                            <strong>${calcium} ммоль/л</strong>
                        </div>
                        ${phosphorus ? `<div style="display: flex; justify-content: space-between;">
                            <span>Фосфор:</span>
                            <strong>${phosphorus} ммоль/л</strong>
                        </div>` : ''}
                    </div>
                </div>
                
                <div style="background: rgba(16, 185, 129, 0.1); padding: 15px; border-radius: 8px;">
                    <h5>💡 Рекомендации:</h5>
                    <ul>
                        ${result.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            document.getElementById('vitaminDPTHResult').innerHTML = resultHTML;
            document.getElementById('vitaminDPTHResult').style.display = 'block';
        }

        // Инициализация табов
        document.addEventListener('DOMContentLoaded', function() {
            initTabs();
        });

        function initTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeTab = document.getElementById(tabName);
            if (activeTab) activeTab.classList.add('active');
            
            const activeButton = document.querySelector(`[data-tab="${tabName}"]`);
            if (activeButton) activeButton.classList.add('active');
        }
    </script>
</body>
</html>
